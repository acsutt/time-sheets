{"remainingRequest":"C:\\Users\\adams\\Documents\\uni\\ArchFrameApp\\time-sheets\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\adams\\Documents\\uni\\ArchFrameApp\\time-sheets\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\adams\\Documents\\uni\\ArchFrameApp\\time-sheets\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\adams\\Documents\\uni\\ArchFrameApp\\time-sheets\\src\\components\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\adams\\Documents\\uni\\ArchFrameApp\\time-sheets\\src\\components\\Login.vue","mtime":1638391373253},{"path":"C:\\Users\\adams\\Documents\\uni\\ArchFrameApp\\time-sheets\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\adams\\Documents\\uni\\ArchFrameApp\\time-sheets\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\adams\\Documents\\uni\\ArchFrameApp\\time-sheets\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\adams\\Documents\\uni\\ArchFrameApp\\time-sheets\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzpcXFVzZXJzXFxhZGFtc1xcRG9jdW1lbnRzXFx1bmlcXEFyY2hGcmFtZUFwcFxcdGltZS1zaGVldHNcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgeyByZXF1aXJlZCB9IGZyb20gJ3Z1ZWxpZGF0ZS9saWIvdmFsaWRhdG9ycyc7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcjogewogICAgICAgIHVzZXJuYW1lOiAnJywKICAgICAgICBwYXNzd29yZDogJycKICAgICAgfSwKICAgICAgdG9rZW46ICcnLAogICAgICBzdWJtaXR0ZWQ6IGZhbHNlLAogICAgICBmYWlsZWQ6IGZhbHNlCiAgICB9OwogIH0sCiAgLy9WYWxpZGF0aW9ucyBzbyBmb3JtIGNhbid0IGJlIHN1Ym1pdHRlZCB1bnRpbCBib3RoIHVzZXJuYW1lIGFuZCBwYXNzd29yZCBhcmUgZmlsbGVkIGluCiAgdmFsaWRhdGlvbnM6IHsKICAgIHVzZXI6IHsKICAgICAgdXNlcm5hbWU6IHsKICAgICAgICByZXF1aXJlZDogcmVxdWlyZWQKICAgICAgfSwKICAgICAgcGFzc3dvcmQ6IHsKICAgICAgICByZXF1aXJlZDogcmVxdWlyZWQKICAgICAgfQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHVzZXJuYW1lRXJyb3JzOiBmdW5jdGlvbiB1c2VybmFtZUVycm9ycygpIHsKICAgICAgdmFyIGVycm9ycyA9IFtdOwogICAgICBpZiAoIXRoaXMuJHYudXNlci51c2VybmFtZS4kZGlydHkpIHJldHVybiBlcnJvcnM7CiAgICAgICF0aGlzLiR2LnVzZXIudXNlcm5hbWUucmVxdWlyZWQgJiYgZXJyb3JzLnB1c2goJ1VzZXJuYW1lIGlzIHJlcXVpcmVkJyk7CiAgICAgIHJldHVybiBlcnJvcnM7CiAgICB9LAogICAgcGFzc3dvcmRFcnJvcnM6IGZ1bmN0aW9uIHBhc3N3b3JkRXJyb3JzKCkgewogICAgICB2YXIgZXJyb3JzID0gW107CiAgICAgIGlmICghdGhpcy4kdi51c2VyLnBhc3N3b3JkLiRkaXJ0eSkgcmV0dXJuIGVycm9yczsKICAgICAgIXRoaXMuJHYudXNlci5wYXNzd29yZC5yZXF1aXJlZCAmJiBlcnJvcnMucHVzaCgnUGFzc3dvcmQgaXMgcmVxdWlyZWQnKTsKICAgICAgcmV0dXJuIGVycm9yczsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZVN1Ym1pdEZvcm06IGZ1bmN0aW9uIGhhbmRsZVN1Ym1pdEZvcm0oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBhcGlVUkw7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMuc3VibWl0dGVkID0gdHJ1ZTsKCiAgICAgICAgICAgICAgICBfdGhpcy4kdi4kdG91Y2goKTsKCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzLiR2LiRpbnZhbGlkKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgYXBpVVJMID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6NDAwMC91c2VyLWFwaS9sb2dpbic7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KGFwaVVSTCwgX3RoaXMudXNlcikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgIGlmICghcmVzLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgICBhbGVydCgnVGhlIHVzZXJuYW1lIG9yIHBhc3N3b3JkIHdhcyBpbmNvcnJlY3QnKTsgLy9Qb3AgdXAgdG8gYWxlcnQgdXNlciBvZiBpbmNvcnJlY3QgdXNlcm5hbWUgb3IgcGFzc3dvcmQKCiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZmFpbGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsIHJlcy5kYXRhKTsgLy9PbiBzdWNjZXNzZnVsIGxvZ2luLCB0b2tlbiBpcyBzdG9yZWQgaW4gbG9jYWwgc3RvcmFnZSBmb3IgdXNlIHdoZW4gYWNjZXNzaW5nIG90aGVyIHBhZ2VzCgogICAgICAgICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goJy9jYWxlbmRhcicpOyAvL0dvZXMgdG8gY2FsZW5kYXIKCiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF90aGlzLnRva2VuID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA,OAAA,KAAA,MAAA,OAAA;AACA,SAAA,QAAA,QAAA,0BAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AACA,QAAA,QAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA;AAFA,OADA;AAKA,MAAA,KAAA,EAAA,EALA;AAMA,MAAA,SAAA,EAAA,KANA;AAOA,MAAA,MAAA,EAAA;AAPA,KAAA;AASA,GAXA;AAYA;AACA,EAAA,WAAA,EAAA;AACA,IAAA,IAAA,EAAA;AACA,MAAA,QAAA,EAAA;AAAA,QAAA,QAAA,EAAA;AAAA,OADA;AAEA,MAAA,QAAA,EAAA;AAAA,QAAA,QAAA,EAAA;AAAA;AAFA;AADA,GAbA;AAmBA,EAAA,QAAA,EAAA;AACA,IAAA,cADA,4BACA;AACA,UAAA,MAAA,GAAA,EAAA;AACA,UAAA,CAAA,KAAA,EAAA,CAAA,IAAA,CAAA,QAAA,CAAA,MAAA,EAAA,OAAA,MAAA;AACA,OAAA,KAAA,EAAA,CAAA,IAAA,CAAA,QAAA,CAAA,QAAA,IACA,MAAA,CAAA,IAAA,CAAA,sBAAA,CADA;AAEA,aAAA,MAAA;AACA,KAPA;AAQA,IAAA,cARA,4BAQA;AACA,UAAA,MAAA,GAAA,EAAA;AACA,UAAA,CAAA,KAAA,EAAA,CAAA,IAAA,CAAA,QAAA,CAAA,MAAA,EAAA,OAAA,MAAA;AACA,OAAA,KAAA,EAAA,CAAA,IAAA,CAAA,QAAA,CAAA,QAAA,IACA,MAAA,CAAA,IAAA,CAAA,sBAAA,CADA;AAEA,aAAA,MAAA;AACA;AAdA,GAnBA;AAmCA,EAAA,OAAA,EAAA;AACA,IAAA,gBADA,8BACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,KAAA,CAAA,SAAA,GAAA,IAAA;;AACA,gBAAA,KAAA,CAAA,EAAA,CAAA,MAAA;;AAFA,qBAGA,KAAA,CAAA,EAAA,CAAA,QAHA;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAOA,gBAAA,MAPA,GAOA,sCAPA;AAAA;AAAA,uBAQA,KAAA,CACA,IADA,CACA,MADA,EACA,KAAA,CAAA,IADA,EAEA,IAFA,CAEA,UAAA,GAAA,EAAA;AACA,sBAAA,CAAA,GAAA,CAAA,IAAA,EAAA;AACA,oBAAA,KAAA,CAAA,wCAAA,CAAA,CADA,CACA;;AACA,oBAAA,KAAA,CAAA,MAAA,GAAA,IAAA;AACA;AACA;;AACA,kBAAA,YAAA,CAAA,OAAA,CAAA,OAAA,EAAA,GAAA,CAAA,IAAA,EANA,CAMA;;AACA,kBAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,WAAA,EAPA,CAOA;;AACA,iBAVA,EAWA,KAXA,CAWA,UAAA,KAAA,EAAA;AACA,kBAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,iBAbA,CARA;;AAAA;AAQA,gBAAA,KAAA,CAAA,KARA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAsBA;AAvBA;AAnCA,CAAA","sourcesContent":["<template>\r\n    <v-row class=\"justify-center align-center\">\r\n        <v-col cols=\"6\">\r\n            <h3 class=\"text-center\">Login</h3>\r\n\r\n            <v-form @submit.prevent=\"handleSubmitForm\">\r\n                <v-text-field\r\n                    v-model=\"user.username\"\r\n                    label=\"Username\"\r\n                    prepend-icon=\"mdi-account-outline\"\r\n                    :error-messages=\"usernameErrors\"\r\n                    @input=\"$v.user.username.$touch()\"\r\n                    @blur=\"$v.user.username.$touch()\"\r\n                >\r\n                </v-text-field>\r\n                <v-text-field\r\n                    v-model=\"user.password\"\r\n                    label=\"Password\"\r\n                    prepend-icon=\"mdi-lock-outline\"\r\n                    type=\"password\"\r\n                    :error-messages=\"passwordErrors\"\r\n                    @input=\"$v.user.password.$touch()\"\r\n                    @blur=\"$v.user.password.$touch()\"\r\n                >\r\n                </v-text-field>\r\n\r\n                <v-btn\r\n                    color=\"success\"\r\n                    type=\"submit\"\r\n                    @click=\"handleSubmitForm\"\r\n                >Login <v-icon right>mdi-check-circle-outline</v-icon>\r\n                </v-btn>\r\n            </v-form>\r\n        </v-col>\r\n    </v-row>\r\n</template>\r\n\r\n<script>\r\n    import axios from 'axios';\r\n    import { required } from 'vuelidate/lib/validators';\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                user: {\r\n                    username: '',\r\n                    password: '',\r\n                },\r\n                token: '',\r\n                submitted: false,\r\n                failed: false,\r\n            };\r\n        },\r\n        //Validations so form can't be submitted until both username and password are filled in\r\n        validations: {\r\n            user: {\r\n                username: { required },\r\n                password: { required },\r\n            },\r\n        },\r\n        computed: {\r\n            usernameErrors() {\r\n                const errors = [];\r\n                if (!this.$v.user.username.$dirty) return errors;\r\n                !this.$v.user.username.required &&\r\n                    errors.push('Username is required');\r\n                return errors;\r\n            },\r\n            passwordErrors() {\r\n                const errors = [];\r\n                if (!this.$v.user.password.$dirty) return errors;\r\n                !this.$v.user.password.required &&\r\n                    errors.push('Password is required');\r\n                return errors;\r\n            },\r\n        },\r\n        methods: {\r\n            async handleSubmitForm() {\r\n                this.submitted = true;\r\n                this.$v.$touch();\r\n                if (this.$v.$invalid) {\r\n                    return;\r\n                }\r\n\r\n                let apiURL = 'http://localhost:4000/user-api/login';\r\n                this.token = await axios\r\n                    .post(apiURL, this.user)\r\n                    .then(res => {\r\n                        if (!res.data) {\r\n                            alert('The username or password was incorrect'); //Pop up to alert user of incorrect username or password\r\n                            this.failed = true;\r\n                            return;\r\n                        }\r\n                        localStorage.setItem('token', res.data); //On successful login, token is stored in local storage for use when accessing other pages\r\n                        this.$router.push('/calendar'); //Goes to calendar\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error);\r\n                    });\r\n            },\r\n        },\r\n    };\r\n</script>"],"sourceRoot":"src/components"}]}