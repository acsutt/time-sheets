{"remainingRequest":"C:\\Users\\adams\\Documents\\uni\\ArchFrameApp\\time-sheets\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\adams\\Documents\\uni\\ArchFrameApp\\time-sheets\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\adams\\Documents\\uni\\ArchFrameApp\\time-sheets\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\adams\\Documents\\uni\\ArchFrameApp\\time-sheets\\src\\components\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\adams\\Documents\\uni\\ArchFrameApp\\time-sheets\\src\\components\\Login.vue","mtime":1638145886868},{"path":"C:\\Users\\adams\\Documents\\uni\\ArchFrameApp\\time-sheets\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\adams\\Documents\\uni\\ArchFrameApp\\time-sheets\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\adams\\Documents\\uni\\ArchFrameApp\\time-sheets\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\adams\\Documents\\uni\\ArchFrameApp\\time-sheets\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzpcXFVzZXJzXFxhZGFtc1xcRG9jdW1lbnRzXFx1bmlcXEFyY2hGcmFtZUFwcFxcdGltZS1zaGVldHNcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgeyByZXF1aXJlZCB9IGZyb20gJ3Z1ZWxpZGF0ZS9saWIvdmFsaWRhdG9ycyc7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcjogewogICAgICAgIHVzZXJuYW1lOiAnJywKICAgICAgICBwYXNzd29yZDogJycKICAgICAgfSwKICAgICAgVXNlcnM6IFtdLAogICAgICB0b2tlbjogJycsCiAgICAgIHN1Ym1pdHRlZDogZmFsc2UsCiAgICAgIGZhaWxlZDogZmFsc2UKICAgIH07CiAgfSwKICB2YWxpZGF0aW9uczogewogICAgdXNlcjogewogICAgICB1c2VybmFtZTogewogICAgICAgIHJlcXVpcmVkOiByZXF1aXJlZAogICAgICB9LAogICAgICBwYXNzd29yZDogewogICAgICAgIHJlcXVpcmVkOiByZXF1aXJlZAogICAgICB9CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgdXNlcm5hbWVFcnJvcnM6IGZ1bmN0aW9uIHVzZXJuYW1lRXJyb3JzKCkgewogICAgICB2YXIgZXJyb3JzID0gW107CiAgICAgIGlmICghdGhpcy4kdi51c2VyLnVzZXJuYW1lLiRkaXJ0eSkgcmV0dXJuIGVycm9yczsKICAgICAgIXRoaXMuJHYudXNlci51c2VybmFtZS5yZXF1aXJlZCAmJiBlcnJvcnMucHVzaCgnVXNlcm5hbWUgaXMgcmVxdWlyZWQnKTsKICAgICAgcmV0dXJuIGVycm9yczsKICAgIH0sCiAgICBwYXNzd29yZEVycm9yczogZnVuY3Rpb24gcGFzc3dvcmRFcnJvcnMoKSB7CiAgICAgIHZhciBlcnJvcnMgPSBbXTsKICAgICAgaWYgKCF0aGlzLiR2LnVzZXIucGFzc3dvcmQuJGRpcnR5KSByZXR1cm4gZXJyb3JzOwogICAgICAhdGhpcy4kdi51c2VyLnBhc3N3b3JkLnJlcXVpcmVkICYmIGVycm9ycy5wdXNoKCdQYXNzd29yZCBpcyByZXF1aXJlZCcpOwogICAgICByZXR1cm4gZXJyb3JzOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdmFyIGFwaVVSTCA9ICdodHRwOi8vbG9jYWxob3N0OjQwMDAvdXNlci1hcGknOwogICAgYXhpb3MuZ2V0KGFwaVVSTCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIF90aGlzLlVzZXJzID0gcmVzLmRhdGE7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVTdWJtaXRGb3JtOiBmdW5jdGlvbiBoYW5kbGVTdWJtaXRGb3JtKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGFwaVVSTDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczIuc3VibWl0dGVkID0gdHJ1ZTsKCiAgICAgICAgICAgICAgICBfdGhpczIuJHYuJHRvdWNoKCk7CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczIuJHYuJGludmFsaWQpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBhcGlVUkwgPSAnaHR0cDovL2xvY2FsaG9zdDo0MDAwL3VzZXItYXBpL2xvZ2luJzsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoYXBpVVJMLCBfdGhpczIudXNlcikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgIGlmICghcmVzLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgICBhbGVydCgndXNlcm5hbWUgb3IgcGFzc3dvcmQgcm9uZycpOwogICAgICAgICAgICAgICAgICAgIF90aGlzMi5mYWlsZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgX3RoaXMyLnNpZ25lZEluID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJywgcmVzLmRhdGEpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRyb3V0ZXIucHVzaCgnL2NhbGVuZGFyJyk7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF90aGlzMi50b2tlbiA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA,OAAA,KAAA,MAAA,OAAA;AACA,SAAA,QAAA,QAAA,0BAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AACA,QAAA,QAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA;AAFA,OADA;AAKA,MAAA,KAAA,EAAA,EALA;AAMA,MAAA,KAAA,EAAA,EANA;AAOA,MAAA,SAAA,EAAA,KAPA;AAQA,MAAA,MAAA,EAAA;AARA,KAAA;AAUA,GAZA;AAaA,EAAA,WAAA,EAAA;AACA,IAAA,IAAA,EAAA;AACA,MAAA,QAAA,EAAA;AAAA,QAAA,QAAA,EAAA;AAAA,OADA;AAEA,MAAA,QAAA,EAAA;AAAA,QAAA,QAAA,EAAA;AAAA;AAFA;AADA,GAbA;AAmBA,EAAA,QAAA,EAAA;AACA,IAAA,cADA,4BACA;AACA,UAAA,MAAA,GAAA,EAAA;AACA,UAAA,CAAA,KAAA,EAAA,CAAA,IAAA,CAAA,QAAA,CAAA,MAAA,EAAA,OAAA,MAAA;AACA,OAAA,KAAA,EAAA,CAAA,IAAA,CAAA,QAAA,CAAA,QAAA,IACA,MAAA,CAAA,IAAA,CAAA,sBAAA,CADA;AAEA,aAAA,MAAA;AACA,KAPA;AAQA,IAAA,cARA,4BAQA;AACA,UAAA,MAAA,GAAA,EAAA;AACA,UAAA,CAAA,KAAA,EAAA,CAAA,IAAA,CAAA,QAAA,CAAA,MAAA,EAAA,OAAA,MAAA;AACA,OAAA,KAAA,EAAA,CAAA,IAAA,CAAA,QAAA,CAAA,QAAA,IACA,MAAA,CAAA,IAAA,CAAA,sBAAA,CADA;AAEA,aAAA,MAAA;AACA;AAdA,GAnBA;AAmCA,EAAA,OAnCA,qBAmCA;AAAA;;AACA,QAAA,MAAA,GAAA,gCAAA;AACA,IAAA,KAAA,CACA,GADA,CACA,MADA,EAEA,IAFA,CAEA,UAAA,GAAA,EAAA;AACA,MAAA,KAAA,CAAA,KAAA,GAAA,GAAA,CAAA,IAAA;AACA,KAJA,EAKA,KALA,CAKA,UAAA,KAAA,EAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,KAPA;AAQA,GA7CA;AA8CA,EAAA,OAAA,EAAA;AACA,IAAA,gBADA,8BACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,MAAA,CAAA,SAAA,GAAA,IAAA;;AACA,gBAAA,MAAA,CAAA,EAAA,CAAA,MAAA;;AAFA,qBAGA,MAAA,CAAA,EAAA,CAAA,QAHA;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAOA,gBAAA,MAPA,GAOA,sCAPA;AAAA;AAAA,uBASA,KAAA,CACA,IADA,CACA,MADA,EACA,MAAA,CAAA,IADA,EAEA,IAFA,CAEA,UAAA,GAAA,EAAA;AACA,sBAAA,CAAA,GAAA,CAAA,IAAA,EAAA;AACA,oBAAA,KAAA,CAAA,2BAAA,CAAA;AACA,oBAAA,MAAA,CAAA,MAAA,GAAA,IAAA;AACA;AACA;;AACA,kBAAA,MAAA,CAAA,QAAA,GAAA,IAAA;AACA,kBAAA,YAAA,CAAA,OAAA,CAAA,OAAA,EAAA,GAAA,CAAA,IAAA;;AACA,kBAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA,WAAA;AACA,iBAXA,EAYA,KAZA,CAYA,UAAA,KAAA,EAAA;AACA,kBAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,iBAdA,CATA;;AAAA;AASA,gBAAA,MAAA,CAAA,KATA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAwBA;AAzBA;AA9CA,CAAA","sourcesContent":["<template>\r\n    <v-row class=\"justify-center align-center\">\r\n        <v-col cols=\"6\">\r\n            <h3 class=\"text-center\">Login</h3>\r\n\r\n            <v-form @submit.prevent=\"handleSubmitForm\">\r\n                <v-text-field\r\n                    v-model=\"user.username\"\r\n                    label=\"Username\"\r\n                    prepend-icon=\"mdi-account-outline\"\r\n                    :error-messages=\"usernameErrors\"\r\n                    @input=\"$v.user.username.$touch()\"\r\n                    @blur=\"$v.user.username.$touch()\"\r\n                >\r\n                </v-text-field>\r\n                <v-text-field\r\n                    v-model=\"user.password\"\r\n                    label=\"Password\"\r\n                    prepend-icon=\"mdi-lock-outline\"\r\n                    type=\"password\"\r\n                    :error-messages=\"passwordErrors\"\r\n                    @input=\"$v.user.password.$touch()\"\r\n                    @blur=\"$v.user.password.$touch()\"\r\n                >\r\n                </v-text-field>\r\n\r\n                <v-btn\r\n                    color=\"success\"\r\n                    type=\"submit\"\r\n                    @click=\"handleSubmitForm\"\r\n                >Login</v-btn>\r\n            </v-form>\r\n        </v-col>\r\n    </v-row>\r\n</template>\r\n\r\n<script>\r\n    import axios from 'axios';\r\n    import { required } from 'vuelidate/lib/validators';\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                user: {\r\n                    username: '',\r\n                    password: '',\r\n                },\r\n                Users: [],\r\n                token: '',\r\n                submitted: false,\r\n                failed: false,\r\n            };\r\n        },\r\n        validations: {\r\n            user: {\r\n                username: { required },\r\n                password: { required },\r\n            },\r\n        },\r\n        computed: {\r\n            usernameErrors() {\r\n                const errors = [];\r\n                if (!this.$v.user.username.$dirty) return errors;\r\n                !this.$v.user.username.required &&\r\n                    errors.push('Username is required');\r\n                return errors;\r\n            },\r\n            passwordErrors() {\r\n                const errors = [];\r\n                if (!this.$v.user.password.$dirty) return errors;\r\n                !this.$v.user.password.required &&\r\n                    errors.push('Password is required');\r\n                return errors;\r\n            },\r\n        },\r\n        created() {\r\n            let apiURL = 'http://localhost:4000/user-api';\r\n            axios\r\n                .get(apiURL)\r\n                .then(res => {\r\n                    this.Users = res.data;\r\n                })\r\n                .catch(error => {\r\n                    console.log(error);\r\n                });\r\n        },\r\n        methods: {\r\n            async handleSubmitForm() {\r\n                this.submitted = true;\r\n                this.$v.$touch();\r\n                if (this.$v.$invalid) {\r\n                    return;\r\n                }\r\n\r\n                let apiURL = 'http://localhost:4000/user-api/login';\r\n\r\n                this.token = await axios\r\n                    .post(apiURL, this.user)\r\n                    .then(res => {\r\n                        if (!res.data) {\r\n                            alert('username or password rong');\r\n                            this.failed = true;\r\n                            return;\r\n                        }\r\n                        this.signedIn = true;\r\n                        localStorage.setItem('token', res.data);\r\n                        this.$router.push('/calendar');\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error);\r\n                    });\r\n            },\r\n        },\r\n    };\r\n</script>"],"sourceRoot":"src/components"}]}