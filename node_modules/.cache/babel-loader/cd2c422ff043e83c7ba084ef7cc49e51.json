{"remainingRequest":"C:\\Users\\adams\\Documents\\uni\\ArchFrameApp\\time-sheets\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\adams\\Documents\\uni\\ArchFrameApp\\time-sheets\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\adams\\Documents\\uni\\ArchFrameApp\\time-sheets\\src\\router\\index.js","dependencies":[{"path":"C:\\Users\\adams\\Documents\\uni\\ArchFrameApp\\time-sheets\\src\\router\\index.js","mtime":1637461087129},{"path":"C:\\Users\\adams\\Documents\\uni\\ArchFrameApp\\time-sheets\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\adams\\Documents\\uni\\ArchFrameApp\\time-sheets\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\adams\\Documents\\uni\\ArchFrameApp\\time-sheets\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZnJvbSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZVJvdXRlciBmcm9tICd2dWUtcm91dGVyJzsKVnVlLnVzZShWdWVSb3V0ZXIpOwoKdmFyIGJlZm9yZUVudGVyID0gZnVuY3Rpb24gYmVmb3JlRW50ZXIodG8sIGZyb20sIG5leHQpIHsKICB2YXIgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKTsKCiAgaWYgKHRva2VuKSB7CiAgICBuZXh0KCk7CiAgICByZXR1cm4gdHJ1ZTsKICB9CgogIG5leHQoewogICAgcGF0aDogJy8nCiAgfSk7CiAgcmV0dXJuIGZhbHNlOwp9OwoKdmFyIHJvdXRlcyA9IFt7CiAgcGF0aDogJy8nLAogIG5hbWU6ICdIb21lJywKICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgIHJldHVybiBpbXBvcnQoJy4uL2NvbXBvbmVudHMvSG9tZScpOwogIH0sCiAgbWV0YTogewogICAgdGl0bGU6ICdUaW1lIFNoZWV0cyBXZWIgQXBwJwogIH0KfSwgewogIHBhdGg6ICcvdmlldycsCiAgbmFtZTogJ3ZpZXcnLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgcmV0dXJuIGltcG9ydCgnLi4vY29tcG9uZW50cy9MaXN0Q29tcG9uZW50Jyk7CiAgfQp9LCB7CiAgcGF0aDogJy9sb2dpbicsCiAgbmFtZTogJ2xvZ2luJywKICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgIHJldHVybiBpbXBvcnQoJ0AvY29tcG9uZW50cy9Mb2dpbicpOwogIH0sCiAgbWV0YTogewogICAgdGl0bGU6ICdUaW1lIFNoZWV0cyAtIExvZ2luJwogIH0KfSwgewogIHBhdGg6ICcvcmVnaXN0ZXInLAogIG5hbWU6ICdyZWdpc3RlcicsCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KCdAL2NvbXBvbmVudHMvUmVnaXN0ZXInKTsKICB9LAogIG1ldGE6IHsKICAgIHRpdGxlOiAnVGltZSBTaGVldHMgLSBSZWdpc3RlcicKICB9Cn0sIHsKICBwYXRoOiAnL2NhbGVuZGFyJywKICBuYW1lOiAnY2FsZW5kYXInLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgcmV0dXJuIGltcG9ydCgnQC9jb21wb25lbnRzL0NhbGVuZGFyJyk7CiAgfSwKICBtZXRhOiB7CiAgICB0aXRsZTogJ1RpbWUgU2hlZXRzIC0gQ2FsZW5kYXInCiAgfSwKICBiZWZvcmVFbnRlcjogYmVmb3JlRW50ZXIKfSwgewogIHBhdGg6ICcvbG9nLWFjdGl2aXR5JywKICBuYW1lOiAnbG9nLWFjdGl2aXR5JywKICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgIHJldHVybiBpbXBvcnQoJ0AvY29tcG9uZW50cy9DcmVhdGVBY3Rpdml0eScpOwogIH0sCiAgbWV0YTogewogICAgdGl0bGU6ICdUaW1lIFNoZWV0cyAtIExvZyBUaW1lJwogIH0sCiAgYmVmb3JlRW50ZXI6IGJlZm9yZUVudGVyCn0sIHsKICBwYXRoOiAnL2VkaXQtYWN0aXZpdHknLAogIG5hbWU6ICdlZGl0LWFjdGl2aXR5JywKICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgIHJldHVybiBpbXBvcnQoJy4uL2NvbXBvbmVudHMvRWRpdEFjdGl2aXR5Jyk7CiAgfSwKICBtZXRhOiB7CiAgICB0aXRsZTogJ1RpbWUgU2hlZXRzIC0gRWRpdCcKICB9LAogIGJlZm9yZUVudGVyOiBiZWZvcmVFbnRlcgp9XTsKdmFyIHJvdXRlciA9IG5ldyBWdWVSb3V0ZXIoewogIG1vZGU6ICdoaXN0b3J5JywKICBiYXNlOiBwcm9jZXNzLmVudi5CQVNFX1VSTCwKICByb3V0ZXM6IHJvdXRlcwp9KTsKcm91dGVyLmJlZm9yZUVhY2goZnVuY3Rpb24gKHRvLCBmcm9tLCBuZXh0KSB7CiAgdmFyIG5lYXJlc3RXaXRoVGl0bGUgPSB0by5tYXRjaGVkLnNsaWNlKCkucmV2ZXJzZSgpLmZpbmQoZnVuY3Rpb24gKHIpIHsKICAgIHJldHVybiByLm1ldGEgJiYgci5tZXRhLnRpdGxlOwogIH0pOwogIHZhciBuZWFyZXN0V2l0aE1ldGEgPSB0by5tYXRjaGVkLnNsaWNlKCkucmV2ZXJzZSgpLmZpbmQoZnVuY3Rpb24gKHIpIHsKICAgIHJldHVybiByLm1ldGEgJiYgci5tZXRhLm1ldGFUYWdzOwogIH0pOwogIHZhciBwcmV2aW91c05lYXJlc3RXaXRoTWV0YSA9IGZyb20ubWF0Y2hlZC5zbGljZSgpLnJldmVyc2UoKS5maW5kKGZ1bmN0aW9uIChyKSB7CiAgICByZXR1cm4gci5tZXRhICYmIHIubWV0YS5tZXRhVGFnczsKICB9KTsKCiAgaWYgKG5lYXJlc3RXaXRoVGl0bGUpIHsKICAgIGRvY3VtZW50LnRpdGxlID0gbmVhcmVzdFdpdGhUaXRsZS5tZXRhLnRpdGxlOwogIH0gZWxzZSBpZiAocHJldmlvdXNOZWFyZXN0V2l0aE1ldGEpIHsKICAgIGRvY3VtZW50LnRpdGxlID0gcHJldmlvdXNOZWFyZXN0V2l0aE1ldGEubWV0YS50aXRsZTsKICB9CgogIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtdnVlLXJvdXRlci1jb250cm9sbGVkXScpKS5tYXAoZnVuY3Rpb24gKGVsKSB7CiAgICByZXR1cm4gZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbCk7CiAgfSk7CiAgaWYgKCFuZWFyZXN0V2l0aE1ldGEpIHJldHVybiBuZXh0KCk7CiAgbmVhcmVzdFdpdGhNZXRhLm1ldGEubWV0YVRhZ3MubWFwKGZ1bmN0aW9uICh0YWdEZWYpIHsKICAgIHZhciB0YWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdtZXRhJyk7CiAgICBPYmplY3Qua2V5cyh0YWdEZWYpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICB0YWcuc2V0QXR0cmlidXRlKGtleSwgdGFnRGVmW2tleV0pOwogICAgfSk7CiAgICB0YWcuc2V0QXR0cmlidXRlKCdkYXRhLXZ1ZS1yb3V0ZXItY29udHJvbGxlZCcsICcnKTsKICAgIHJldHVybiB0YWc7CiAgfSkuZm9yRWFjaChmdW5jdGlvbiAodGFnKSB7CiAgICByZXR1cm4gZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZCh0YWcpOwogIH0pOwogIG5leHQoKTsKfSk7CmV4cG9ydCBkZWZhdWx0IHJvdXRlcjs="},{"version":3,"sources":["C:/Users/adams/Documents/uni/ArchFrameApp/time-sheets/src/router/index.js"],"names":["Vue","VueRouter","use","beforeEnter","to","from","next","token","localStorage","getItem","path","routes","name","component","meta","title","router","mode","base","process","env","BASE_URL","beforeEach","nearestWithTitle","matched","slice","reverse","find","r","nearestWithMeta","metaTags","previousNearestWithMeta","document","Array","querySelectorAll","map","el","parentNode","removeChild","tagDef","tag","createElement","Object","keys","forEach","key","setAttribute","head","appendChild"],"mappings":"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","sourcesContent":["import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\n\r\nVue.use(VueRouter)\r\n\r\nconst beforeEnter = (to, from, next) => {\r\n  const token = localStorage.getItem('token');\r\n  if (token) {\r\n    next()\r\n    return true;\r\n  }\r\n  next({ path: '/' });\r\n  return false\r\n}\r\n\r\nconst routes = [\r\n  {\r\n    path: '/',\r\n    name: 'Home',\r\n    component: () => import('../components/Home'),\r\n    meta: {\r\n      title: 'Time Sheets Web App',\r\n    }\r\n  },\r\n  {\r\n    path: '/view',\r\n    name: 'view',\r\n    component: () => import('../components/ListComponent')\r\n  },\r\n  {\r\n    path: '/login',\r\n    name: 'login',\r\n    component: () => import('@/components/Login'),\r\n    meta: {\r\n      title: 'Time Sheets - Login',\r\n    }\r\n  },\r\n  {\r\n    path: '/register',\r\n    name: 'register',\r\n    component: () => import('@/components/Register'),\r\n    meta: {\r\n      title: 'Time Sheets - Register',\r\n    }\r\n  },\r\n  {\r\n    path: '/calendar',\r\n    name: 'calendar',\r\n    component: () => import('@/components/Calendar'),\r\n    meta: {\r\n      title: 'Time Sheets - Calendar',\r\n    },\r\n    beforeEnter\r\n  },\r\n  {\r\n    path: '/log-activity',\r\n    name: 'log-activity',\r\n    component: () => import('@/components/CreateActivity'),\r\n    meta: {\r\n      title: 'Time Sheets - Log Time',\r\n    },\r\n    beforeEnter\r\n  },\r\n  {\r\n    path: '/edit-activity',\r\n    name: 'edit-activity',\r\n    component: () => import('../components/EditActivity'),\r\n    meta: {\r\n      title: 'Time Sheets - Edit',\r\n    },\r\n    beforeEnter\r\n  },\r\n]\r\n\r\n\r\nconst router = new VueRouter({\r\n    mode: 'history',\r\n    base: process.env.BASE_URL,\r\n    routes\r\n})\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n    const nearestWithTitle = to.matched.slice().reverse().find(r => r.meta && r.meta.title);\r\n    const nearestWithMeta = to.matched.slice().reverse().find(r => r.meta && r.meta.metaTags);\r\n    const previousNearestWithMeta = from.matched.slice().reverse().find(r => r.meta && r.meta.metaTags);\r\n\r\n    if(nearestWithTitle) {\r\n        document.title = nearestWithTitle.meta.title;\r\n    } else if(previousNearestWithMeta) {\r\n        document.title = previousNearestWithMeta.meta.title;\r\n    }\r\n\r\n    Array.from(document.querySelectorAll('[data-vue-router-controlled]')).map(el => el.parentNode.removeChild(el));\r\n\r\n    if(!nearestWithMeta) return next();\r\n    nearestWithMeta.meta.metaTags.map(tagDef => {\r\n        const tag = document.createElement('meta');\r\n\r\n        Object.keys(tagDef).forEach(key => {\r\n            tag.setAttribute(key, tagDef[key]);\r\n        });\r\n        tag.setAttribute('data-vue-router-controlled', '');\r\n\r\n        return tag;\r\n    })\r\n    .forEach(tag => document.head.appendChild(tag));\r\n    next();\r\n});\r\n\r\nexport default router\r\n"]}]}