{"remainingRequest":"C:\\Users\\adam.sutton\\Documents\\GitHub\\time-sheets\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\adam.sutton\\Documents\\GitHub\\time-sheets\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\adam.sutton\\Documents\\GitHub\\time-sheets\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\adam.sutton\\Documents\\GitHub\\time-sheets\\src\\components\\Calendar.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\adam.sutton\\Documents\\GitHub\\time-sheets\\src\\components\\Calendar.vue","mtime":1638039778976},{"path":"C:\\Users\\adam.sutton\\Documents\\GitHub\\time-sheets\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1637669531954},{"path":"C:\\Users\\adam.sutton\\Documents\\GitHub\\time-sheets\\node_modules\\babel-loader\\lib\\index.js","mtime":1637669528802},{"path":"C:\\Users\\adam.sutton\\Documents\\GitHub\\time-sheets\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1637669531954},{"path":"C:\\Users\\adam.sutton\\Documents\\GitHub\\time-sheets\\node_modules\\vue-loader\\lib\\index.js","mtime":1637669573351}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5lbnRyaWVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIEFjdGl2aXRpZXM6IFtdLAogICAgICBsb2dnZWRBY3Rpdml0aWVzOiBbXSwKICAgICAgdHlwZTogJ21vbnRoJywKICAgICAgbW9kZTogJ3N0YWNrJywKICAgICAgd2Vla2RheTogWzEsIDIsIDMsIDQsIDUsIDYsIDBdLAogICAgICB2YWx1ZTogJycsCiAgICAgIGV2ZW50czogW10sCiAgICAgIHNlbGVjdGVkRXZlbnQ6IHt9LAogICAgICBzZWxlY3RlZEVsZW1lbnQ6IG51bGwsCiAgICAgIHNlbGVjdGVkT3BlbjogZmFsc2UKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB2YXIgYXBpVVJMID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6NDAwMC9hY3Rpdml0eS1hcGknOwogICAgYXhpb3MuZ2V0KGFwaVVSTCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIF90aGlzLkFjdGl2aXRpZXMgPSByZXMuZGF0YTsKCiAgICAgIF90aGlzLmdldEV2ZW50cygpOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0RXZlbnRzOiBmdW5jdGlvbiBnZXRFdmVudHMoKSB7CiAgICAgIHZhciBldmVudHMgPSBbXTsKCiAgICAgIGZvciAodmFyIF9pID0gMCwgX09iamVjdCRlbnRyaWVzID0gT2JqZWN0LmVudHJpZXModGhpcy5BY3Rpdml0aWVzKTsgX2kgPCBfT2JqZWN0JGVudHJpZXMubGVuZ3RoOyBfaSsrKSB7CiAgICAgICAgdmFyIGFjdGl2aXR5ID0gX09iamVjdCRlbnRyaWVzW19pXTsKICAgICAgICBldmVudHMucHVzaCh7CiAgICAgICAgICBpZDogYWN0aXZpdHlbMV0uX2lkLAogICAgICAgICAgbmFtZTogYWN0aXZpdHlbMV0ubmFtZSwKICAgICAgICAgIGRlc2M6IGFjdGl2aXR5WzFdLmRlc2NyaXB0aW9uLAogICAgICAgICAgc3RhcnQ6IGFjdGl2aXR5WzFdLmRhdGUuc3BsaXQoJ1QnKVswXSwKICAgICAgICAgIGVuZDogYWN0aXZpdHlbMV0uZGF0ZS5zcGxpdCgnVCcpWzBdLAogICAgICAgICAgY29sb3I6IGFjdGl2aXR5WzFdLmNvbG9yCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHRoaXMuZXZlbnRzID0gZXZlbnRzOwogICAgfSwKICAgIHNob3dFdmVudDogZnVuY3Rpb24gc2hvd0V2ZW50KF9yZWYpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgbmF0aXZlRXZlbnQgPSBfcmVmLm5hdGl2ZUV2ZW50LAogICAgICAgICAgZXZlbnQgPSBfcmVmLmV2ZW50OwoKICAgICAgdmFyIG9wZW4gPSBmdW5jdGlvbiBvcGVuKCkgewogICAgICAgIF90aGlzMi5zZWxlY3RlZEV2ZW50ID0gZXZlbnQ7CiAgICAgICAgX3RoaXMyLnNlbGVjdGVkRWxlbWVudCA9IG5hdGl2ZUV2ZW50LnRhcmdldDsKICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBfdGhpczIuc2VsZWN0ZWRPcGVuID0gdHJ1ZTsKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9OwoKICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRPcGVuKSB7CiAgICAgICAgdGhpcy5zZWxlY3RlZE9wZW4gPSBmYWxzZTsKICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBvcGVuKCk7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBvcGVuKCk7CiAgICAgIH0KCiAgICAgIG5hdGl2ZUV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOwogICAgfSwKICAgIHZpZXdXZWVrOiBmdW5jdGlvbiB2aWV3V2VlayhfcmVmMikgewogICAgICB2YXIgZGF0ZSA9IF9yZWYyLmRhdGU7CiAgICAgIHRoaXMuZm9jdXMgPSBkYXRlOwogICAgICB0aGlzLnR5cGUgPSAnd2Vlayc7CiAgICB9LAogICAgY2hhbmdlVHlwZTogZnVuY3Rpb24gY2hhbmdlVHlwZSgpIHsKICAgICAgaWYgKHRoaXMudHlwZSA9PSAnd2VlaycpIHsKICAgICAgICB0aGlzLnR5cGUgPSAnbW9udGgnOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMudHlwZSA9ICd3ZWVrJzsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["Calendar.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div class=\"row justify-content-center\">\r\n        <div class=\"col-md-8\">\r\n            <div class=\"card card-default\">\r\n                <div class=\"card-header\">Calendar</div>\r\n                <v-app>\r\n                    <v-sheet\r\n                        tile\r\n                        height=\"54\"\r\n                        class=\"d-flex\"\r\n                    >\r\n                        <v-btn\r\n                            icon\r\n                            class=\"ma-2\"\r\n                            @click=\"$refs.calendar.prev()\"\r\n                        >\r\n                            <v-icon>mdi-chevron-left</v-icon>\r\n                        </v-btn>\r\n                        <v-btn\r\n                            class=\"ma-2\"\r\n                            @click=\"changeType\"\r\n                            label=\"Calendar View\"\r\n                            outlined\r\n                        >\r\n                            {{ this.type + 'ly view'}}\r\n                        </v-btn>\r\n                        <v-spacer></v-spacer>\r\n                        <v-btn\r\n                            icon\r\n                            class=\"ma-2\"\r\n                            @click=\"$refs.calendar.next()\"\r\n                        >\r\n                            <v-icon>mdi-chevron-right</v-icon>\r\n                        </v-btn>\r\n                    </v-sheet>\r\n                    <v-sheet height=\"600\">\r\n                        <v-calendar\r\n                            ref=\"calendar\"\r\n                            v-model=\"value\"\r\n                            :weekdays=\"weekday\"\r\n                            :type=\"type\"\r\n                            :events=\"events\"\r\n                            :event-overlap-mode=\"mode\"\r\n                            :event-overlap-threshold=\"30\"\r\n                            @change=\"getEvents\"\r\n                            @click:event=\"showEvent\"\r\n                            @click:more=\"viewWeek\"\r\n                            @click:date=\"viewWeek\"\r\n                        ></v-calendar>\r\n                        <v-menu\r\n                            v-model=\"selectedOpen\"\r\n                            :close-on-content-click=\"false\"\r\n                            :activator=\"selectedElement\"\r\n                            offset-x\r\n                        >\r\n                            <v-card\r\n                                color=\"grey lighten-4\"\r\n                                min-width=\"350px\"\r\n                                flat\r\n                            >\r\n                                <v-toolbar\r\n                                    :color=\"selectedEvent.color\"\r\n                                    dark\r\n                                >\r\n                                    <router-link :to=\"{name: 'edit-activity', params: { id: selectedEvent.id }}\">\r\n                                        <v-icon>mdi-pencil</v-icon>\r\n                                    </router-link>\r\n                                    <v-spacer></v-spacer>\r\n                                    <v-toolbar-title v-html=\"selectedEvent.name\"></v-toolbar-title>\r\n                                    <v-spacer></v-spacer>\r\n                                    <v-btn icon>\r\n                                        <v-icon>mdi-dots-vertical</v-icon>\r\n                                    </v-btn>\r\n                                </v-toolbar>\r\n                                <v-card-text>\r\n                                    <span v-html=\"selectedEvent.desc\"></span>\r\n                                </v-card-text>\r\n                                <v-card-actions>\r\n                                    <v-btn\r\n                                        text\r\n                                        color=\"secondary\"\r\n                                        @click=\"selectedOpen = false\"\r\n                                    >\r\n                                        Cancel\r\n                                    </v-btn>\r\n                                </v-card-actions>\r\n                            </v-card>\r\n                        </v-menu>\r\n                    </v-sheet>\r\n                </v-app>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import axios from 'axios';\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                Activities: [],\r\n                loggedActivities: [],\r\n                type: 'month',\r\n                mode: 'stack',\r\n                weekday: [1, 2, 3, 4, 5, 6, 0],\r\n                value: '',\r\n                events: [],\r\n                selectedEvent: {},\r\n                selectedElement: null,\r\n                selectedOpen: false,\r\n            };\r\n        },\r\n        created() {\r\n            let apiURL = 'http://localhost:4000/activity-api';\r\n            axios\r\n                .get(apiURL)\r\n                .then(res => {\r\n                    this.Activities = res.data;\r\n                    this.getEvents();\r\n                })\r\n                .catch(error => {\r\n                    console.log(error);\r\n                });\r\n        },\r\n        methods: {\r\n            getEvents() {\r\n                const events = [];\r\n                for (const activity of Object.entries(this.Activities)) {\r\n                    events.push({\r\n                        id: activity[1]._id,\r\n                        name: activity[1].name,\r\n                        desc: activity[1].description,\r\n                        start: activity[1].date.split('T')[0],\r\n                        end: activity[1].date.split('T')[0],\r\n                        color: activity[1].color,\r\n                    });\r\n                }\r\n                this.events = events;\r\n            },\r\n            showEvent({ nativeEvent, event }) {\r\n                const open = () => {\r\n                    this.selectedEvent = event;\r\n                    this.selectedElement = nativeEvent.target;\r\n                    requestAnimationFrame(() =>\r\n                        requestAnimationFrame(() => (this.selectedOpen = true))\r\n                    );\r\n                };\r\n\r\n                if (this.selectedOpen) {\r\n                    this.selectedOpen = false;\r\n                    requestAnimationFrame(() =>\r\n                        requestAnimationFrame(() => open())\r\n                    );\r\n                } else {\r\n                    open();\r\n                }\r\n\r\n                nativeEvent.stopPropagation();\r\n            },\r\n            viewWeek({ date }) {\r\n                this.focus = date;\r\n                this.type = 'week';\r\n            },\r\n            changeType() {\r\n                if (this.type == 'week') {\r\n                    this.type = 'month';\r\n                } else {\r\n                    this.type = 'week';\r\n                }\r\n            },\r\n        },\r\n    };\r\n</script>\r\n\r\n\r\n"],"sourceRoot":"src/components"}]}