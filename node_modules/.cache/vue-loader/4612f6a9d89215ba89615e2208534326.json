{"remainingRequest":"C:\\Users\\adams\\Documents\\uni\\ArchFrameApp\\time-sheets\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\adams\\Documents\\uni\\ArchFrameApp\\time-sheets\\src\\components\\Calendar.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\adams\\Documents\\uni\\ArchFrameApp\\time-sheets\\src\\components\\Calendar.vue","mtime":1638222955128},{"path":"C:\\Users\\adams\\Documents\\uni\\ArchFrameApp\\time-sheets\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\adams\\Documents\\uni\\ArchFrameApp\\time-sheets\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\adams\\Documents\\uni\\ArchFrameApp\\time-sheets\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\adams\\Documents\\uni\\ArchFrameApp\\time-sheets\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIEFjdGl2aXRpZXM6IFtdLAogICAgICAgICAgICBsb2dnZWRBY3Rpdml0aWVzOiBbXSwKICAgICAgICAgICAgdHlwZTogJ3dlZWsnLAogICAgICAgICAgICBtb2RlOiAnc3RhY2snLAogICAgICAgICAgICB3ZWVrZGF5OiBbMSwgMiwgMywgNCwgNSwgNiwgMF0sCiAgICAgICAgICAgIHZhbHVlOiAnJywKICAgICAgICAgICAgZXZlbnRzOiBbXSwKICAgICAgICAgICAgc2VsZWN0ZWRFdmVudDoge30sCiAgICAgICAgICAgIHNlbGVjdGVkRWxlbWVudDogbnVsbCwKICAgICAgICAgICAgc2VsZWN0ZWRPcGVuOiBmYWxzZSwKICAgICAgICB9OwogICAgfSwKICAgIGNyZWF0ZWQoKSB7CiAgICAgICAgbGV0IGFwaVVSTCA9ICdodHRwOi8vbG9jYWxob3N0OjQwMDAvYWN0aXZpdHktYXBpJzsKICAgICAgICBheGlvcwogICAgICAgICAgICAuZ2V0KGFwaVVSTCkKICAgICAgICAgICAgLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuQWN0aXZpdGllcyA9IHJlcy5kYXRhOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2c7CiAgICAgICAgICAgICAgICB0aGlzLmdldEV2ZW50cygpOwogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICB9KTsKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgZ2V0RXZlbnRzKCkgewogICAgICAgICAgICBjb25zdCBldmVudHMgPSBbXTsKICAgICAgICAgICAgZm9yIChjb25zdCBhY3Rpdml0eSBvZiBPYmplY3QuZW50cmllcyh0aGlzLkFjdGl2aXRpZXMpKSB7CiAgICAgICAgICAgICAgICBsZXQgZm9ybWF0U3RhcnRUaW1lID0KICAgICAgICAgICAgICAgICAgICBhY3Rpdml0eVsxXS5kYXRlLnNwbGl0KCdUJylbMF0gKwogICAgICAgICAgICAgICAgICAgICdUJyArCiAgICAgICAgICAgICAgICAgICAgYWN0aXZpdHlbMV0uc3RhcnRUaW1lICsKICAgICAgICAgICAgICAgICAgICAnOjAwJzsKICAgICAgICAgICAgICAgIGxldCBmb3JtYXRFbmR0VGltZSA9CiAgICAgICAgICAgICAgICAgICAgYWN0aXZpdHlbMV0uZGF0ZS5zcGxpdCgnVCcpWzBdICsKICAgICAgICAgICAgICAgICAgICAnVCcgKwogICAgICAgICAgICAgICAgICAgIGFjdGl2aXR5WzFdLmVuZFRpbWUgKwogICAgICAgICAgICAgICAgICAgICc6MDAnOwogICAgICAgICAgICAgICAgZXZlbnRzLnB1c2goewogICAgICAgICAgICAgICAgICAgIGlkOiBhY3Rpdml0eVsxXS5faWQsCiAgICAgICAgICAgICAgICAgICAgbmFtZTogYWN0aXZpdHlbMV0ubmFtZSwKICAgICAgICAgICAgICAgICAgICBkZXNjOiBhY3Rpdml0eVsxXS5kZXNjcmlwdGlvbiwKICAgICAgICAgICAgICAgICAgICBzdGFydDogZm9ybWF0U3RhcnRUaW1lLAogICAgICAgICAgICAgICAgICAgIGVuZDogZm9ybWF0RW5kdFRpbWUsCiAgICAgICAgICAgICAgICAgICAgY29sb3I6IGFjdGl2aXR5WzFdLmNvbG9yLAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5ldmVudHMgPSBldmVudHM7CiAgICAgICAgfSwKICAgICAgICBzaG93RXZlbnQoeyBuYXRpdmVFdmVudCwgZXZlbnQgfSkgewogICAgICAgICAgICBjb25zdCBvcGVuID0gKCkgPT4gewogICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEV2ZW50ID0gZXZlbnQ7CiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkRWxlbWVudCA9IG5hdGl2ZUV2ZW50LnRhcmdldDsKICAgICAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PgogICAgICAgICAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiAodGhpcy5zZWxlY3RlZE9wZW4gPSB0cnVlKSkKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH07CgogICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZE9wZW4pIHsKICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRPcGVuID0gZmFsc2U7CiAgICAgICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4KICAgICAgICAgICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gb3BlbigpKQogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIG9wZW4oKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgbmF0aXZlRXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgfSwKICAgICAgICB2aWV3V2Vlayh7IGRhdGUgfSkgewogICAgICAgICAgICB0aGlzLmZvY3VzID0gZGF0ZTsKICAgICAgICAgICAgdGhpcy50eXBlID0gJ3dlZWsnOwogICAgICAgIH0sCiAgICAgICAgY2hhbmdlVHlwZSgpIHsKICAgICAgICAgICAgaWYgKHRoaXMudHlwZSA9PSAnd2VlaycpIHsKICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9ICdtb250aCc7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSAnd2Vlayc7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgfSwKfTsK"},{"version":3,"sources":["Calendar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Calendar.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <v-app>\r\n        <v-sheet\r\n            tile\r\n            height=\"54\"\r\n            class=\"d-flex\"\r\n            dark\r\n            border\r\n        >\r\n            <v-btn\r\n                icon\r\n                class=\"ma-2\"\r\n                @click=\"$refs.calendar.prev()\"\r\n            >\r\n                <v-icon>mdi-chevron-left</v-icon>\r\n            </v-btn>\r\n            <v-spacer></v-spacer>\r\n            <v-btn\r\n                class=\"ma-2\"\r\n                @click=\"changeType\"\r\n                label=\"Calendar View\"\r\n                outlined\r\n            >\r\n                {{ this.type + 'ly view'}}\r\n            </v-btn>\r\n            <v-spacer></v-spacer>\r\n            <v-btn\r\n                icon\r\n                class=\"ma-2\"\r\n                @click=\"$refs.calendar.next()\"\r\n            >\r\n                <v-icon>mdi-chevron-right</v-icon>\r\n            </v-btn>\r\n        </v-sheet>\r\n        <v-sheet height=\"600\">\r\n            <v-calendar\r\n                dark\r\n                color=\"primary\"\r\n                ref=\"calendar\"\r\n                v-model=\"value\"\r\n                :weekdays=\"weekday\"\r\n                :type=\"type\"\r\n                :events=\"events\"\r\n                :event-overlap-mode=\"mode\"\r\n                :event-overlap-threshold=\"30\"\r\n                :first-time=\"'06:30'\"\r\n                :interval-count=12\r\n                :interval-minutes=\"30\"\r\n                @change=\"getEvents\"\r\n                @click:event=\"showEvent\"\r\n                @click:more=\"viewWeek\"\r\n                @click:date=\"viewWeek\"\r\n            ></v-calendar>\r\n            <v-menu\r\n                v-model=\"selectedOpen\"\r\n                :close-on-content-click=\"false\"\r\n                :activator=\"selectedElement\"\r\n                offset-x\r\n            >\r\n                <v-card\r\n                    color=\"grey lighten-4\"\r\n                    min-width=\"350px\"\r\n                    flat\r\n                >\r\n                    <v-toolbar\r\n                        :color=\"selectedEvent.color\"\r\n                        dark\r\n                    >\r\n                        <router-link :to=\"{name: 'edit-activity', params: { id: selectedEvent.id }}\">\r\n                            <v-icon>mdi-pencil</v-icon>\r\n                        </router-link>\r\n                        <v-spacer></v-spacer>\r\n                        <v-toolbar-title v-html=\"selectedEvent.name\"></v-toolbar-title>\r\n                        <v-spacer></v-spacer>\r\n                        <v-btn icon>\r\n                            <v-icon>mdi-dots-vertical</v-icon>\r\n                        </v-btn>\r\n                    </v-toolbar>\r\n                    <v-card-text>\r\n                        <span v-html=\"selectedEvent.desc\"></span>\r\n                    </v-card-text>\r\n                    <v-card-actions>\r\n                        <v-btn\r\n                            text\r\n                            color=\"secondary\"\r\n                            @click=\"selectedOpen = false\"\r\n                        >\r\n                            Cancel\r\n                        </v-btn>\r\n                    </v-card-actions>\r\n                </v-card>\r\n            </v-menu>\r\n        </v-sheet>\r\n    </v-app>\r\n</template>\r\n\r\n<script>\r\n    import axios from 'axios';\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                Activities: [],\r\n                loggedActivities: [],\r\n                type: 'week',\r\n                mode: 'stack',\r\n                weekday: [1, 2, 3, 4, 5, 6, 0],\r\n                value: '',\r\n                events: [],\r\n                selectedEvent: {},\r\n                selectedElement: null,\r\n                selectedOpen: false,\r\n            };\r\n        },\r\n        created() {\r\n            let apiURL = 'http://localhost:4000/activity-api';\r\n            axios\r\n                .get(apiURL)\r\n                .then(res => {\r\n                    this.Activities = res.data;\r\n                    console.log;\r\n                    this.getEvents();\r\n                })\r\n                .catch(error => {\r\n                    console.log(error);\r\n                });\r\n        },\r\n        methods: {\r\n            getEvents() {\r\n                const events = [];\r\n                for (const activity of Object.entries(this.Activities)) {\r\n                    let formatStartTime =\r\n                        activity[1].date.split('T')[0] +\r\n                        'T' +\r\n                        activity[1].startTime +\r\n                        ':00';\r\n                    let formatEndtTime =\r\n                        activity[1].date.split('T')[0] +\r\n                        'T' +\r\n                        activity[1].endTime +\r\n                        ':00';\r\n                    events.push({\r\n                        id: activity[1]._id,\r\n                        name: activity[1].name,\r\n                        desc: activity[1].description,\r\n                        start: formatStartTime,\r\n                        end: formatEndtTime,\r\n                        color: activity[1].color,\r\n                    });\r\n                }\r\n                this.events = events;\r\n            },\r\n            showEvent({ nativeEvent, event }) {\r\n                const open = () => {\r\n                    this.selectedEvent = event;\r\n                    this.selectedElement = nativeEvent.target;\r\n                    requestAnimationFrame(() =>\r\n                        requestAnimationFrame(() => (this.selectedOpen = true))\r\n                    );\r\n                };\r\n\r\n                if (this.selectedOpen) {\r\n                    this.selectedOpen = false;\r\n                    requestAnimationFrame(() =>\r\n                        requestAnimationFrame(() => open())\r\n                    );\r\n                } else {\r\n                    open();\r\n                }\r\n\r\n                nativeEvent.stopPropagation();\r\n            },\r\n            viewWeek({ date }) {\r\n                this.focus = date;\r\n                this.type = 'week';\r\n            },\r\n            changeType() {\r\n                if (this.type == 'week') {\r\n                    this.type = 'month';\r\n                } else {\r\n                    this.type = 'week';\r\n                }\r\n            },\r\n        },\r\n    };\r\n</script>\r\n\r\n\r\n"]}]}