{"remainingRequest":"C:\\Users\\adams\\Documents\\uni\\ArchFrameApp\\time-sheets\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\adams\\Documents\\uni\\ArchFrameApp\\time-sheets\\src\\components\\Calendar.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\adams\\Documents\\uni\\ArchFrameApp\\time-sheets\\src\\components\\Calendar.vue","mtime":1636983790882},{"path":"C:\\Users\\adams\\Documents\\uni\\ArchFrameApp\\time-sheets\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\adams\\Documents\\uni\\ArchFrameApp\\time-sheets\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\adams\\Documents\\uni\\ArchFrameApp\\time-sheets\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\adams\\Documents\\uni\\ArchFrameApp\\time-sheets\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCiAgaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKCiAgZXhwb3J0IGRlZmF1bHQgewogICAgICBkYXRhKCkgewoKICAgICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7CiAgICAgICAgICBjb25zdCBtb250aCA9IG5vdy5nZXRNb250aCgpOwogICAgICAgICAgY29uc3QgeWVhciA9IG5vdy5nZXRGdWxsWWVhcigpOwogICAgICAgICAgY29uc3QgZGF5ID0gbm93LmdldERhdGUoKTsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgQWN0aXZpdGllczogW10sCiAgICAgICAgICAgICAgdmFsdWU6IG51bGwsCiAgICAgICAgICAgICAgdG9kYXk6IG5ldyBEYXRlKHllYXIsIG1vbnRoLCBkYXkpICogMSwKICAgICAgICAgICAgICBtYXNrczogewogICAgICAgICAgICAgICAgICB3ZWVrZGF5czogIldXVyIKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIGxvZ2dlZEFjdGl2aXRpZXM6IFtdLAogICAgICAgICAgICAgIGRheUV2ZW50czogewogICAgICAgICAgICAgICAgICBjbGljazogYSA9PiB7CiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGUKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiZGF5RXZlbnRzOiIsIGEpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB2aWV3U3RhcnQ6IG51bGwsCiAgICAgICAgICAgICAgdmlld0VuZDogbnVsbCwKICAgICAgICAgIH07CiAgICAgIH0sCiAgICBjcmVhdGVkKCkgewogICAgICAgIGxldCBhcGlVUkwgPSAnaHR0cDovL2xvY2FsaG9zdDo0MDAwL2FwaSc7CiAgICAgICAgYXhpb3MuZ2V0KGFwaVVSTCkudGhlbihyZXMgPT4gewogICAgICAgICAgICB0aGlzLkFjdGl2aXRpZXMgPSByZXMuZGF0YTsKICAgICAgICAgICAgdGhpcy5wb3B1bGF0ZUNhbGVuZGFyKCk7CiAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikKICAgICAgICB9KTsKICAgICAgICAKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgZGF5Q2xpY2soYSkgewogICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJvcmlnaW4gRE9NIGNsaWNrIiwgYSk7CiAgICAgICAgfSwKICAgICAgICBwb3B1bGF0ZUNhbGVuZGFyKCkgewogICAgICAgICAgICBmb3IoY29uc3QgYWN0aXZpdHkgb2YgT2JqZWN0LmVudHJpZXModGhpcy5BY3Rpdml0aWVzKSkgewogICAgICAgICAgICAgICAgdGhpcy5sb2dnZWRBY3Rpdml0aWVzLnB1c2goCiAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgIGtleTogMSwKICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbURhdGE6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogYWN0aXZpdHkuX2lkLAogICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGFjdGl2aXR5WzFdLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6ICJiZy1yZWQtNjAwIHRleHQtd2hpdGUiCiAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgZGF0ZXM6IG5ldyBEYXRlKGFjdGl2aXR5WzFdLmRhdGUpCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmFjdGl2aXR5WzFdLl9pZCk7IAogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICByZXR1cm4gdGhpcy5sb2dnZWRBY3Rpdml0aWVzCiAgICAgICAgfSwKICAgICAgICBnZXRFdmVudHMoZXZlbnQpIHsgLy8gZXZlbnQgb25seSBoYXMgdGhlICdjdXJyZW50IG1vbnRoJwogICAgICAgICAgICB0aGlzLnZpZXdTdGFydCA9IHRoaXMuJHJlZnMuY2FsZW5kYXIuZ2V0U3RhcnRPZldlZWsoZXZlbnQuc3RhcnQpOwogICAgICAgICAgICB0aGlzLnZpZXdFbmQgPSB0aGlzLiRyZWZzLmNhbGVuZGFyLmdldEVuZE9mV2VlayhldmVudC5lbmQpOwogICAgICAgICAgICBjb25zb2xlLmxvZygiaGVyZSIsIHRoaXMudmlld1N0YXJ0KTsKICAgICAgICB9CiAgICB9Cn0gCg=="},{"version":3,"sources":["Calendar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Calendar.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"row justify-content-center\">\r\n      <div class=\"col-md-8\">\r\n          <div class=\"card card-default\">\r\n              <div class=\"card-header\">Calendar</div>\r\n\r\n              <div class=\"card-body\">\r\n                  <v-calendar\r\n                      v-model=\"value\"\r\n                      class=\"custom-calendar max-w-full\"\r\n                      :masks=\"masks\"\r\n                      :attributes=\"loggedActivities\"\r\n                      disable-page-swipe\r\n                      ref=\"calender\"\r\n                      @change=\"getEvents\"\r\n                    >\r\n                      <div\r\n                        slot=\"day-content\"\r\n                        v-on=\"dayEvents\"\r\n                        @click=\"dayClick\"\r\n                        slot-scope=\"{ day, attributes }\"\r\n                        class=\"flex flex-col h-full z-10 overflow-hidden\"\r\n                        :class=\"day.year\"\r\n                      >\r\n                        <span\r\n                          class=\"day-label text-sm text-gray-900\"\r\n                          :class=\"[day.dateTime === today ? 'today rounded-sm' : '' ]\"\r\n                        >{{ day.day }}</span>\r\n                        <div class=\"flex-grow overflow-y-scroll overflow-x-auto\">\r\n                          <router-link v-for=\"attr in attributes\" :key=\"attr.customData.id\"\r\n                            class=\"text-xs leading-tight rounded-sm d-flex p-1 mt-0 mb-1\"\r\n                            :class=\"attr.customData.class\" :to=\"{name: 'edit', params: { id: attr.customData.id }}\" >\r\n                          {{ attr.customData.name }}</router-link>\r\n                        </div>\r\n                      </div>\r\n                  </v-calendar>\r\n\r\n\r\n              </div>\r\n          </div>\r\n      </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import axios from \"axios\";\r\n\r\n  export default {\r\n      data() {\r\n\r\n          const now = new Date();\r\n          const month = now.getMonth();\r\n          const year = now.getFullYear();\r\n          const day = now.getDate();\r\n          return {\r\n              Activities: [],\r\n              value: null,\r\n              today: new Date(year, month, day) * 1,\r\n              masks: {\r\n                  weekdays: \"WWW\"\r\n              },\r\n              loggedActivities: [],\r\n              dayEvents: {\r\n                  click: a => {\r\n                    // eslint-disable-next-line no-console\r\n                    console.log(\"dayEvents:\", a);\r\n                  }\r\n              },\r\n              viewStart: null,\r\n              viewEnd: null,\r\n          };\r\n      },\r\n    created() {\r\n        let apiURL = 'http://localhost:4000/api';\r\n        axios.get(apiURL).then(res => {\r\n            this.Activities = res.data;\r\n            this.populateCalendar();\r\n        }).catch(error => {\r\n            console.log(error)\r\n        });\r\n        \r\n    },\r\n    methods: {\r\n        dayClick(a) {\r\n        // eslint-disable-next-line no-console\r\n            console.log(\"origin DOM click\", a);\r\n        },\r\n        populateCalendar() {\r\n            for(const activity of Object.entries(this.Activities)) {\r\n                this.loggedActivities.push(\r\n                  {\r\n                      key: 1,\r\n                      customData: {\r\n                          id: activity._id,\r\n                          name: activity[1].name,\r\n                          class: \"bg-red-600 text-white\"\r\n                      },\r\n                      dates: new Date(activity[1].date)\r\n                  }\r\n                );\r\n                console.log(this.activity[1]._id); \r\n            }\r\n            \r\n            return this.loggedActivities\r\n        },\r\n        getEvents(event) { // event only has the 'current month'\r\n            this.viewStart = this.$refs.calendar.getStartOfWeek(event.start);\r\n            this.viewEnd = this.$refs.calendar.getEndOfWeek(event.end);\r\n            console.log(\"here\", this.viewStart);\r\n        }\r\n    }\r\n} \r\n</script>\r\n\r\n\r\n<style>\r\n.flex-col {\r\n  flex-direction: column;\r\n}\r\n\r\n.flex {\r\n  display: flex;\r\n}\r\n.flex-grow {\r\n  flex-grow: 1;\r\n}\r\n.h-full {\r\n  height: 100%;\r\n}\r\n.bg-red-600 {\r\n  background-color: #e53e3e;\r\n}\r\n.today {\r\n  background-color: #d2e1ec;\r\n}\r\n.bg-teal-500 {\r\n  background-color: #38b2ac;\r\n}\r\n.bg-pink-500 {\r\n  background-color: #ed64a6;\r\n}\r\n.bg-indigo-500 {\r\n  background-color: #667eea;\r\n}\r\n.overflow-y-scroll {\r\n  overflow-y: scroll;\r\n}\r\n.overflow-x-auto {\r\n  overflow-x: auto;\r\n}\r\n.z-10 {\r\n  z-index: 10;\r\n}\r\n.overflow-hidden {\r\n  overflow: hidden;\r\n}\r\n.text-gray-900 {\r\n  color: #1a202c;\r\n}\r\n.vc-h-full {\r\n  height: 100%;\r\n}\r\n.custom-calendar.vc-container {\r\n  --day-border: 1px solid #b8c2cc;\r\n  --day-border-highlight: 1px solid #b8c2cc;\r\n  --day-width: 90px;\r\n  --day-height: 90px;\r\n  --weekday-bg: #f8fafc;\r\n  --weekday-border: 1px solid #eaeaea;\r\n  border-radius: 0;\r\n  width: auto;\r\n}\r\n.custom-calendar.vc-container .vc-weeks {\r\n  padding: 0;\r\n  height: 80vh;\r\n  grid-template-rows: 33px repeat(6, 1fr);\r\n}\r\n.custom-calendar.vc-container .vc-header {\r\n  background-color: #f1f5f8;\r\n  padding: 10px 0;\r\n}\r\n.custom-calendar.vc-container .vc-weekday {\r\n  background-color: var(--weekday-bg);\r\n  border-bottom: var(--weekday-border);\r\n  border-top: var(--weekday-border);\r\n  padding: 5px 0;\r\n}\r\n.vc-border {\r\n  border-width: 1px;\r\n}\r\n.custom-calendar.vc-container .vc-day:not(.on-right) {\r\n  border-right: var(--day-border);\r\n}\r\n.custom-calendar.vc-container .vc-day:not(.on-bottom) {\r\n  border-bottom: var(--day-border);\r\n}\r\n.custom-calendar.vc-container .vc-day.weekday-1,\r\n.custom-calendar.vc-container .vc-day.weekday-7 {\r\n  background-color: #eff8ff;\r\n}\r\n\r\n.custom-calendar.vc-container .vc-day {\r\n  padding: 0 5px 3px;\r\n  text-align: left;\r\n  /*min-height: var(--day-height);*/\r\n  min-width: var(--day-width);\r\n  background-color: #fff;\r\n}\r\n.vc-day {\r\n  position: relative;\r\n  min-height: var(--day-min-height);\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 1;\r\n}\r\n.text-center {\r\n  text-align: center;\r\n}\r\n.max-w-full {\r\n  max-width: 100%;\r\n}\r\n.bg-blue-500 {\r\n  background-color: #4299e1;\r\n}\r\n\r\n.text-xs {\r\n  font-size: 0.75rem;\r\n}\r\n.text-white {\r\n  color: #fff;\r\n}\r\n.p-1 {\r\n  padding: 0.25rem;\r\n}\r\n.mb-1 {\r\n  margin-bottom: 0.25rem;\r\n}\r\n.mt-0 {\r\n  margin-top: 0;\r\n}\r\n.leading-tight {\r\n  line-height: 1.25;\r\n}\r\n.rounded-sm {\r\n  border-radius: 0.125rem;\r\n}\r\n::-webkit-scrollbar {\r\n  width: 0px;\r\n}\r\n::-webkit-scrollbar-track {\r\n  display: none;\r\n}\r\n</style>"]}]}