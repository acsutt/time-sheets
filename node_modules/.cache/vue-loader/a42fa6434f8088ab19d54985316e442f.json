{"remainingRequest":"C:\\Users\\adam.sutton\\Documents\\GitHub\\time-sheets\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\adam.sutton\\Documents\\GitHub\\time-sheets\\src\\components\\Calendar.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\adam.sutton\\Documents\\GitHub\\time-sheets\\src\\components\\Calendar.vue","mtime":1637669579766},{"path":"C:\\Users\\adam.sutton\\Documents\\GitHub\\time-sheets\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1637669531954},{"path":"C:\\Users\\adam.sutton\\Documents\\GitHub\\time-sheets\\node_modules\\babel-loader\\lib\\index.js","mtime":1637669528802},{"path":"C:\\Users\\adam.sutton\\Documents\\GitHub\\time-sheets\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1637669531954},{"path":"C:\\Users\\adam.sutton\\Documents\\GitHub\\time-sheets\\node_modules\\vue-loader\\lib\\index.js","mtime":1637669573351}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgICBkYXRhKCkgewoKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBBY3Rpdml0aWVzOiBbXSwKICAgICAgICAgICAgbG9nZ2VkQWN0aXZpdGllczogW10sCiAgICAgICAgICAgIHR5cGU6ICdtb250aCcsCiAgICAgICAgICAgIHR5cGVzOiBbJ21vbnRoJywgJ3dlZWsnLCAnZGF5J10sCiAgICAgICAgICAgIG1vZGU6ICdzdGFjaycsCiAgICAgICAgICAgIG1vZGVzOiBbJ3N0YWNrJywgJ2NvbHVtbiddLAogICAgICAgICAgICB3ZWVrZGF5OiBbMSwgMiwgMywgNCwgNSwgNiwgMF0sCiAgICAgICAgICAgIHZhbHVlOiAnJywKICAgICAgICAgICAgZXZlbnRzOiBbXSwKICAgICAgICAgICAgbmFtZXM6IFsnTWVldGluZycsICdIb2xpZGF5JywgJ1BUTycsICdUcmF2ZWwnLCAnRXZlbnQnLCAnQmlydGhkYXknLCAnQ29uZmVyZW5jZScsICdQYXJ0eSddLAogICAgICAgICAgICBzZWxlY3RlZEV2ZW50OiB7fSwKICAgICAgICAgICAgc2VsZWN0ZWRFbGVtZW50OiBudWxsLAogICAgICAgICAgICBzZWxlY3RlZE9wZW46IGZhbHNlLAogICAgICAgIH07CiAgICB9LAogICAgY3JlYXRlZCgpIHsKICAgICAgICBsZXQgYXBpVVJMID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6NDAwMC9hY3Rpdml0eS1hcGknOwogICAgICAgIGF4aW9zLmdldChhcGlVUkwpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgdGhpcy5BY3Rpdml0aWVzID0gcmVzLmRhdGE7CiAgICAgICAgICAgIHRoaXMuZ2V0RXZlbnRzKCk7CiAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikKICAgICAgICB9KTsKICAgICAgCiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGdldEV2ZW50cyAoKSB7CiAgICAgICAgICAgIGNvbnN0IGV2ZW50cyA9IFtdCiAgICAgICAgICAgIGZvciAoY29uc3QgYWN0aXZpdHkgb2YgT2JqZWN0LmVudHJpZXModGhpcy5BY3Rpdml0aWVzKSkgewogICAgICAgICAgICAgICAgZXZlbnRzLnB1c2goewogICAgICAgICAgICAgICAgICAgIGlkOiBhY3Rpdml0eVsxXS5faWQsCiAgICAgICAgICAgICAgICAgICAgbmFtZTogYWN0aXZpdHlbMV0ubmFtZSwKICAgICAgICAgICAgICAgICAgICBkZXNjOiBhY3Rpdml0eVsxXS5kZXNjcmlwdGlvbiwKICAgICAgICAgICAgICAgICAgICBzdGFydDogYWN0aXZpdHlbMV0uZGF0ZS5zcGxpdCgiVCIpWzBdLAogICAgICAgICAgICAgICAgICAgIGVuZDogYWN0aXZpdHlbMV0uZGF0ZS5zcGxpdCgiVCIpWzBdLAogICAgICAgICAgICAgICAgICAgIGNvbG9yOiBhY3Rpdml0eVsxXS5jb2xvciwKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5ldmVudHMgPSBldmVudHMKICAgICAgICB9LAogICAgICAgIHNob3dFdmVudCAoeyBuYXRpdmVFdmVudCwgZXZlbnQgfSkgewogICAgICAgICAgICBjb25zdCBvcGVuID0gKCkgPT4gewogICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEV2ZW50ID0gZXZlbnQKICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRFbGVtZW50ID0gbmF0aXZlRXZlbnQudGFyZ2V0CiAgICAgICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHRoaXMuc2VsZWN0ZWRPcGVuID0gdHJ1ZSkpCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkT3BlbikgewogICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE9wZW4gPSBmYWxzZQogICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiBvcGVuKCkpKQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgb3BlbigpCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIG5hdGl2ZUV2ZW50LnN0b3BQcm9wYWdhdGlvbigpCiAgICAgICAgfSwKICAgICAgICB2aWV3RGF5ICh7IGRhdGUgfSkgewogICAgICAgICAgICB0aGlzLmZvY3VzID0gZGF0ZQogICAgICAgICAgICB0aGlzLnR5cGUgPSAnZGF5JwogICAgICAgICAgICBjb25zb2xlLmxvZygidGhpcy5mb2N1cyA9ICIrdGhpcy5mb2N1cykKICAgICAgICB9LAogICAgICAgIGdldEV2ZW50Q29sb3IgKGV2ZW50KSB7CiAgICAgICAgICAgIHJldHVybiBldmVudC5jb2xvcgogICAgICAgIH0sCiAgICAgICAgcm5kIChhLCBiKSB7CiAgICAgICAgICAgIHJldHVybiBNYXRoLmZsb29yKChiIC0gYSArIDEpICogTWF0aC5yYW5kb20oKSkgKyBhCiAgICAgICAgfSwKICAgIH0KfSAK"},{"version":3,"sources":["Calendar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkGA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Calendar.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"row justify-content-center\">\r\n      <div class=\"col-md-8\">\r\n          <div class=\"card card-default\">\r\n              <div class=\"card-header\">Calendar</div>\r\n              <v-app>\r\n                <v-sheet\r\n                  tile\r\n                  height=\"54\"\r\n                  class=\"d-flex\"\r\n                >\r\n                  <v-btn\r\n                    icon\r\n                    class=\"ma-2\"\r\n                    @click=\"$refs.calendar.prev()\"\r\n                  >\r\n                    <v-icon>mdi-chevron-left</v-icon>\r\n                  </v-btn>\r\n                  <v-select\r\n                    v-model=\"type\"\r\n                    :items=\"types\"\r\n                    dense\r\n                    outlined\r\n                    hide-details\r\n                    class=\"ma-2\"\r\n                    label=\"Type\"\r\n                  ></v-select>\r\n                  <v-spacer></v-spacer>\r\n                  <v-btn\r\n                    icon\r\n                    class=\"ma-2\"\r\n                    @click=\"$refs.calendar.next()\"\r\n                  >\r\n                    <v-icon>mdi-chevron-right</v-icon>\r\n                  </v-btn>\r\n                </v-sheet>\r\n                <v-sheet height=\"600\">\r\n                  <v-calendar\r\n                    ref=\"calendar\"\r\n                    v-model=\"value\"\r\n                    :weekdays=\"weekday\"\r\n                    :type=\"type\"\r\n                    :events=\"events\"\r\n                    :event-overlap-mode=\"mode\"\r\n                    :event-overlap-threshold=\"30\"\r\n                    :event-color=\"getEventColor\"\r\n                    @change=\"getEvents\"\r\n                    @click:event=\"showEvent\"\r\n                    @click:more=\"viewDay\"\r\n                    @click:date=\"viewDay\"\r\n                  ></v-calendar>\r\n                  <v-menu\r\n                    v-model=\"selectedOpen\"\r\n                    :close-on-content-click=\"false\"\r\n                    :activator=\"selectedElement\"\r\n                    offset-x\r\n                  >\r\n                    <v-card\r\n                      color=\"grey lighten-4\"\r\n                      min-width=\"350px\"\r\n                      flat\r\n                    >\r\n                      <v-toolbar\r\n                        :color=\"selectedEvent.color\"\r\n                        dark\r\n                      >\r\n                        <router-link :to=\"{name: 'edit-activity', params: { id: selectedEvent.id }}\" >\r\n                          <v-icon>mdi-pencil</v-icon>\r\n                        </router-link>\r\n                        <v-spacer></v-spacer>\r\n                        <v-toolbar-title v-html=\"selectedEvent.name\"></v-toolbar-title>\r\n                        <v-spacer></v-spacer>\r\n                        <v-btn icon>\r\n                          <v-icon>mdi-dots-vertical</v-icon>\r\n                        </v-btn>\r\n                      </v-toolbar>\r\n                      <v-card-text>\r\n                        <span v-html=\"selectedEvent.desc\"></span>\r\n                      </v-card-text>\r\n                      <v-card-actions>\r\n                        <v-btn\r\n                          text\r\n                          color=\"secondary\"\r\n                          @click=\"selectedOpen = false\"\r\n                        >\r\n                          Cancel\r\n                        </v-btn>\r\n                      </v-card-actions>\r\n                    </v-card>\r\n                  </v-menu>\r\n                </v-sheet>\r\n              </v-app>\r\n          </div>\r\n      </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import axios from \"axios\";\r\n\r\n  export default {\r\n      data() {\r\n\r\n          return {\r\n              Activities: [],\r\n              loggedActivities: [],\r\n              type: 'month',\r\n              types: ['month', 'week', 'day'],\r\n              mode: 'stack',\r\n              modes: ['stack', 'column'],\r\n              weekday: [1, 2, 3, 4, 5, 6, 0],\r\n              value: '',\r\n              events: [],\r\n              names: ['Meeting', 'Holiday', 'PTO', 'Travel', 'Event', 'Birthday', 'Conference', 'Party'],\r\n              selectedEvent: {},\r\n              selectedElement: null,\r\n              selectedOpen: false,\r\n          };\r\n      },\r\n      created() {\r\n          let apiURL = 'http://localhost:4000/activity-api';\r\n          axios.get(apiURL).then(res => {\r\n              this.Activities = res.data;\r\n              this.getEvents();\r\n          }).catch(error => {\r\n              console.log(error)\r\n          });\r\n        \r\n      },\r\n      methods: {\r\n          getEvents () {\r\n              const events = []\r\n              for (const activity of Object.entries(this.Activities)) {\r\n                  events.push({\r\n                      id: activity[1]._id,\r\n                      name: activity[1].name,\r\n                      desc: activity[1].description,\r\n                      start: activity[1].date.split(\"T\")[0],\r\n                      end: activity[1].date.split(\"T\")[0],\r\n                      color: activity[1].color,\r\n                  })\r\n              }\r\n              this.events = events\r\n          },\r\n          showEvent ({ nativeEvent, event }) {\r\n              const open = () => {\r\n                  this.selectedEvent = event\r\n                  this.selectedElement = nativeEvent.target\r\n                  requestAnimationFrame(() => requestAnimationFrame(() => this.selectedOpen = true))\r\n              }\r\n\r\n              if (this.selectedOpen) {\r\n                  this.selectedOpen = false\r\n                  requestAnimationFrame(() => requestAnimationFrame(() => open()))\r\n              } else {\r\n                  open()\r\n              }\r\n\r\n              nativeEvent.stopPropagation()\r\n          },\r\n          viewDay ({ date }) {\r\n              this.focus = date\r\n              this.type = 'day'\r\n              console.log(\"this.focus = \"+this.focus)\r\n          },\r\n          getEventColor (event) {\r\n              return event.color\r\n          },\r\n          rnd (a, b) {\r\n              return Math.floor((b - a + 1) * Math.random()) + a\r\n          },\r\n      }\r\n  } \r\n</script>\r\n\r\n\r\n"]}]}